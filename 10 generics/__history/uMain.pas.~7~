unit uMain;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls;

type

  TFrmMain = class(TForm)
    BtnGeneric: TButton;
    BtnGenericTwo: TButton;
    BtnGenericTree: TButton;
    BtnLista: TButton;
    Memo1: TMemo;
    BtnEnum: TButton;
    procedure BtnGenericClick(Sender: TObject);
    procedure BtnGenericTwoClick(Sender: TObject);
    procedure BtnGenericTreeClick(Sender: TObject);
    procedure BtnListaClick(Sender: TObject);
    procedure BtnEnumClick(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  FrmMain: TFrmMain;

implementation

{$R *.dfm}

uses uKeyValue, uPegaSerVivo, uHumano, uLista, uComboBox;

procedure TFrmMain.BtnEnumClick(Sender: TObject);
begin
  FrmCadInformacao := TFrmCadInformacao.Create(Self);
  try
    FrmCadInformacao.ShowModal;
  finally
    FrmCadInformacao.Free;
  end;
end;

procedure TFrmMain.BtnGenericClick(Sender: TObject);
var
  Valor: TKeyValue<TForm>;
begin
  Valor := TKeyValue<TForm>.Create;

  try
    Valor.Key   := '1';
    Valor.Value := Self;

    ShowMessage(Valor.Key + ' = ' + Valor.Value.Name);
  finally
    Valor.Free;
  end;
end;

procedure TFrmMain.BtnGenericTreeClick(Sender: TObject);
var
  mTipoSerVivo: TPegaSerVivo<TSerHumano>;
  mHumano: TSerHumano;
begin
  mHumano := TSerHumano.Create(True);

  mTipoSerVivo := TPegaServivo<TSerHumano>.Create;

  try
    mTipoSerVivo.Classe := mHumano;

    mTipoSerVivo.Tipo := 'Humano';

    mHumano.Nome := 'Paulo';

    mTipoSerVivo.Classe.Nome:= 'José';

    if mHumano.Armado then
      mTipoSerVivo.Perigo := 'Sim';

    ShowMessage(mTipoSerVivo.Classe.Nome);
  finally
    mTipoSerVivo.Free;
    mHumano.Free
  end;
end;

procedure TFrmMain.BtnGenericTwoClick(Sender: TObject);
var
  mValor: TKeyValue<TForm>;
begin
  mValor := TKeyValue<TForm>.Create;

  try
    mValor.Key   := 'Formulário';
    mValor.Value := Self;

    ShowMessage(mValor.Key + ' =|= ' + mValor.Value.Name);
  finally
    mValor.Free;
  end;
end;

procedure TFrmMain.BtnListaClick(Sender: TObject);
var
  mArray: TLista<Integer>;
  I: Integer;
begin
  mArray := TLista<Integer>.Create();

  try
    Memo1.Clear;

    for I := 1 to 10 do
    begin
      mArray.AddItem(I);
      Memo1.Lines.Add(mArray.GetItem(I -1).ToString)
    end;
    ShowMessage(mArray.GetTamanho.ToString);


  finally
    mArray.Free;

  end;

end;

end.
